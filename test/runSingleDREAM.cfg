process CaloTest  = {

	service = MessageLogger	{
		untracked vstring destinations = {"cout"} 
		untracked vstring categories = { "EcalSim", "G4cout", "G4cerr"}
#		untracked vstring debugModules = { "*" }
		untracked PSet cout = { untracked string threshold = "INFO"
			untracked PSet default = { untracked int32 limit = 0 }
			untracked PSet EcalSim = { untracked int32 limit = -1} 
			untracked PSet G4cout  = { untracked int32 limit = -1 }
			untracked PSet G4cerr  = { untracked int32 limit = -1 }
		}
	}

	untracked PSet maxEvents = {untracked int32 input = 10}
	include "SimGeneral/HepPDTESSource/data/pdt.cfi"
	source = FlatRandomEGunSource {
		untracked PSet PGunParameters = {
			untracked vint32 PartID = {11}
			untracked double MinEta =  0.
			untracked double MaxEta =  0.
			untracked double MinPhi =  1.57079632679489661923
			untracked double MaxPhi =  1.57079632679489661923
			untracked double MinE   = 10.0
			untracked double MaxE   = 10.0
		}
		untracked int32 Verbosity = 0 
	}

        service = Timing {}

	service = RandomNumberGeneratorService {
		untracked uint32 sourceSeed = 135799753
		PSet moduleSeeds = {
			untracked uint32 VtxSmeared = 123456789
			untracked uint32 g4SimHits = 9876
		}
	}

	module VtxSmeared = GaussEvtVtxGenerator {
		double MeanX = 0.
		double MeanY = -2.0
		double MeanZ = 0.
		double SigmaX = 0.00001
		double SigmaY = 0.00001
		double SigmaZ = 0.00001
	}

	#Geometry
	include "SimG4CMS/CherenkovAnalysis/data/SingleDREAMXML.cfi"
	
	include "SimG4Core/Application/data/g4SimHits.cfi"
	replace g4SimHits.UseMagneticField       = false    
#	replace g4SimHits.G4Commands ={"/tracking/verbose 1"}
	replace g4SimHits.Physics.type = "SimG4Core/Physics/QGSP"
	replace g4SimHits.ECalSD.UseBirkLaw = false
	replace g4SimHits.ECalSD.SlopeLightYield = 0.0

	include "Configuration/EventContent/data/EventContent.cff"
	module o1 = PoolOutputModule {
		using FEVTSIMEventContent
		untracked string fileName = "simevent.root"
	}

	path p1 = { VtxSmeared, g4SimHits }
	endpath outpath = { o1 }
}		
